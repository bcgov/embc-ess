<form novalidate (ngSubmit)="onSubmit()" [formGroup]="form">
  <p class="step h2 text-uppercase">Step 2 of 4</p>
  <h1 class="mt-3">Register as an Evacuee</h1>

  <h2 class="blue-header h3">INSURANCE</h2>
  <section>
    <p class="required font-weight-bold">Do you have insurance to cover your immediate needs?</p>
    <div class="form-group" tabindex="0">
      <div class="form-check" (click)='openInsuranceInfoModal()'>
        <input type="radio" [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" value="yes"
               formControlName="insuranceCode" id="insuranceCodeYes">
        <label class="form-check-label" for="insuranceCodeYes">Yes</label>
      </div>
      <div class="form-check" (click)='openInsuranceInfoModal()'>
        <input type="radio" [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" value="yes-unsure"
               formControlName="insuranceCode" id="insuranceCodeYesUnsure">
        <label class="form-check-label" for="insuranceCodeYesUnsure">
          Yes, but I'm not sure if I have coverage for this
          event
        </label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" value="no"
               formControlName="insuranceCode" id="insuranceCodeNo">
        <label class="form-check-label" for="insuranceCodeNo">No</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" value="unsure"
               formControlName="insuranceCode" id="insuranceCodeUnsure">
        <label class="form-check-label" for="insuranceCodeUnsure">I don't know</label>
      </div>
      <span [class.d-block]="invalid('insuranceCode')"
            class="invalid-feedback">{{validationErrors['insuranceCode']}}</span>
    </div>
    <div class="feature-block">
      <p class="mb-0">
        If you have insurance, please keep all of your receipts, and contact your insurance provider as soon as possible.
      </p>
      <p class="mb-0">
        If you are having difficulty contacting your insurance provider, please contact the Insurance Bureau of Canada at
        <a href="tel:18442275422">1-844-227-5422</a>.
      </p>
    </div>
  </section>

  <h2 class="blue-header h3">FOOD</h2>
  <section>
    <p class="required font-weight-bold">Do you have food for you and your family while you are evacuated? If you are unsure, select "No".</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresFood')" class="form-check-input" [value]="true" formControlName="requiresFood" id="requiresFoodTrue">
        <label class="form-check-label" for="requiresFoodTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresFood')" class="form-check-input" [value]="false" formControlName="requiresFood" id="requiresFoodFalse">
        <label class="form-check-label" for="requiresFoodFalse">No</label>
      </div>
      <span [class.d-block]="invalid('requiresFood')" class="invalid-feedback">{{validationErrors['requiresFood']}}</span>
    </div>
    <p class="required font-weight-bold">Do you have any dietary requirements?</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('dietaryNeeds')" class="form-check-input" [value]="true" formControlName="dietaryNeeds" id="dietaryNeedsTrue">
        <label class="form-check-label" for="dietaryNeedsTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('dietaryNeeds')" class="form-check-input" [value]="false" formControlName="dietaryNeeds" id="dietaryNeedsFalse">
        <label class="form-check-label" for="dietaryNeedsFalse">No</label>
      </div>
      <span [class.d-block]="invalid('dietaryNeeds')" class="invalid-feedback">{{validationErrors['dietaryNeeds']}}</span>
    </div>
  </section>

  <h2 class="blue-header h3">LODGING</h2>
  <section>
    <p class="required font-weight-bold">Are you able to provide lodging for you and your family while you are evacuated? This could include staying with relatives/friends or staying in a hotel. If you are unsure, select "No".</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresAccommodation')" class="form-check-input" [value]="true" formControlName="requiresAccommodation" id="requiresAccommodationTrue">
        <label class="form-check-label" for="requiresAccommodationTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresAccommodation')" class="form-check-input" [value]="false" formControlName="requiresAccommodation" id="requiresAccommodationFalse">
        <label class="form-check-label" for="requiresAccommodationFalse">No</label>
      </div>
      <span [class.d-block]="invalid('requiresAccommodation')" class="invalid-feedback">{{validationErrors['requiresAccommodation']}}</span>
    </div>
  </section>

  <h2 class="blue-header h3">CLOTHING</h2>
  <section>
    <p class="required font-weight-bold">Do you have appropriate clothing for you and your family while you are evacuated? This includes warm clothing should there be extreme winter conditions. If you are unsure, select "No".</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresClothing')" class="form-check-input" [value]="true" formControlName="requiresClothing" id="requiresClothingTrue">
        <label class="form-check-label" for="requiresClothingTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresClothing')" class="form-check-input" [value]="false" formControlName="requiresClothing" id="requiresClothingFalse">
        <label class="form-check-label" for="requiresClothingFalse">No</label>
      </div>
      <span [class.d-block]="invalid('requiresClothing')" class="invalid-feedback">{{validationErrors['requiresClothing']}}</span>
    </div>
  </section>

  <h2 class="blue-header h3">TRANSPORTATION</h2>
  <section>
    <p class="required font-weight-bold">Do you have transportation to meet your immediate needs? If you are unsure, select "No".</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresTransportation')" class="form-check-input" [value]="true" formControlName="requiresTransportation" id="requiresTransportationTrue">
        <label class="form-check-label" for="requiresTransportationTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresTransportation')" class="form-check-input" [value]="false" formControlName="requiresTransportation" id="requiresTransportationFalse">
        <label class="form-check-label" for="requiresTransportationFalse">No</label>
      </div>
      <span [class.d-block]="invalid('requiresTransportation')" class="invalid-feedback">{{validationErrors['requiresTransportation']}}</span>
    </div>
  </section>

  <h2 class="blue-header h3">INCIDENTALS</h2>
  <section>
    <p class="required font-weight-bold">Do you have necessities for you and your family while you are evacuated? This could include miscellaneous items such as personal hygiene products, laundry supplies and/or pet food. If you are unsure, select "No".</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresIncidentals')" class="form-check-input" [value]="true" formControlName="requiresIncidentals" id="requiresIncidentalsTrue">
        <label class="form-check-label" for="requiresIncidentalsTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('requiresIncidentals')" class="form-check-input" [value]="false" formControlName="requiresIncidentals" id="requiresIncidentalsFalse">
        <label class="form-check-label" for="requiresIncidentalsFalse">No</label>
      </div>
      <span [class.d-block]="invalid('requiresIncidentals')" class="invalid-feedback">{{validationErrors['requiresIncidentals']}}</span>
    </div>
  </section>

  <h2 class="blue-header h3">MEDICATION</h2>
  <section>
    <p class="required font-weight-bold">Do you (or anyone registering with you) take medication?</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('medicationNeeds')" class="form-check-input" [value]="true" formControlName="medicationNeeds" id="medicationNeedsTrue">
        <label class="form-check-label" for="medicationNeedsTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('medicationNeeds')" class="form-check-input" [value]="false" formControlName="medicationNeeds" id="medicationNeedsFalse">
        <label class="form-check-label" for="medicationNeedsFalse">No</label>
      </div>
      <span [class.d-block]="invalid('medicationNeeds')" class="invalid-feedback">{{validationErrors['medicationNeeds']}}</span>
      <div *ngIf="form.value.medicationNeeds===true" class="alert alert-info" role="alert">
        <p class="alert-heading display-6 my-2">Please ensure you have an adequate supply of medication for the duration of the evacuation.</p>
      </div>
    </div>
  </section>

  <h2 class="blue-header h3">PETS</h2>
  <section>
    <p class="required font-weight-bold">Do you have any pets with you?</p>
    <div class="form-group" tabindex="0">
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('hasPets')" class="form-check-input" [value]="true" formControlName="hasPets" id="hasPetsTrue">
        <label class="form-check-label" for="hasPetsTrue">Yes</label>
      </div>
      <div class="form-check">
        <input type="radio" [class.is-invalid]="invalid('hasPets')" class="form-check-input" [value]="false" formControlName="hasPets" id="hasPetsFalse">
        <label class="form-check-label" for="hasPetsFalse">No</label>
      </div>
      <span [class.d-block]="invalid('hasPets')" class="invalid-feedback">{{validationErrors['hasPets']}}</span>
      <div *ngIf="form.value.hasPets===true" class="alert alert-info" role="alert">
        <p class="alert-heading display-6 my-2">Please ensure you have adequate pet care supplies for the duration of the evacuation.</p>
      </div>
    </div>
  </section>

  <div class="mt-5 space-between">
    <section>
      <button type="button" class="btn btn-outline-primary" (click)="back()">Edit Self-registration</button>
    </section>
    <section>
      <a routerLink="/">
        <app-font-awesome-icon icon="times"></app-font-awesome-icon>
        <span class="ml-2">Cancel &amp; Close</span>
      </a>
      <button type="submit" class="btn btn-primary ml-4">Next</button>
    </section>
  </div>
</form>
