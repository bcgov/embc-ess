<form novalidate (ngSubmit)="onSubmit()" [formGroup]="form">
  <h2 class="step">STEP 2 of 4</h2>
  <h1 class="mt-3">Register as an Evacuee</h1>

  <h3 class="blue-header">ADDITIONAL INFORMATION</h3>
  <section class="padded-section">
    <p class="required">Do you have any dietary requirements?</p>
    <div class="form-group">
      <div class="form-check">
        <input [class.is-invalid]="invalid('dietaryNeeds')" class="form-check-input" type="radio" [value]="true" formControlName="dietaryNeeds">
        <label class="form-check-label">Yes</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('dietaryNeeds')" class="form-check-input" type="radio" [value]="false" formControlName="dietaryNeeds">
        <label class="form-check-label">No</label>
        <span *ngIf="submitted" class="invalid-feedback">
          {{validationErrors['dietaryNeeds']}}
        </span>
      </div>
    </div>

    <p class="required">Do you (or anyone registering with you) take medication?</p>
    <div class="form-group">
      <div class="form-check">
        <input [class.is-invalid]="invalid('medicationNeeds')" class="form-check-input" type="radio" [value]="true" formControlName="medicationNeeds">
        <label class="form-check-label">Yes</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('medicationNeeds')" class="form-check-input" type="radio" [value]="false" formControlName="medicationNeeds">
        <label class="form-check-label">No</label>
        <span *ngIf="submitted" class="invalid-feedback">
          {{validationErrors['medicationNeeds']}}
        </span>
      </div>
    </div>

    <p class="required">Do you have any pets with you?</p>
    <div class="form-group">
      <div class="form-check">
        <input [class.is-invalid]="invalid('hasPets')" class="form-check-input" type="radio" [value]="true" formControlName="hasPets">
        <label class="form-check-label">Yes</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('hasPets')" class="form-check-input" type="radio" [value]="false" formControlName="hasPets">
        <label class="form-check-label">No</label>
        <span *ngIf="submitted" class="invalid-feedback">
          {{validationErrors['hasPets']}}
        </span>
      </div>
    </div>
  </section>

  <h3 class="blue-header">INSURANCE</h3>
  <section class="padded-section">
    <p class="required">Do you have insurance to cover your immediate needs?</p>
    <div class="form-group">
      <div class="form-check">
        <input [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" type="radio" value="yes" formControlName="insuranceCode">
        <label class="form-check-label">Yes</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" type="radio" value="yes-unsure" formControlName="insuranceCode">
        <label class="form-check-label">Yes, but I'm not sure if I have coverage for this event</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" type="radio" value="no" formControlName="insuranceCode">
        <label class="form-check-label">No</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('insuranceCode')" class="form-check-input" type="radio" value="unsure" formControlName="insuranceCode">
        <label class="form-check-label">I don't know</label>
        <span *ngIf="submitted" class="invalid-feedback">
          {{validationErrors['insuranceCode']}}
        </span>
      </div>
    </div>
  </section>

  <h3 class="blue-header">NEXT STEPS</h3>
  <section class="padded-section">
    <p class="required">
      While you are evacuated do you require supports?<br>
      This could be in the form of food / accommodation / clothing / incidentals or transportation.
    </p>
    <div class="form-group">
      <div class="form-check">
        <input [class.is-invalid]="invalid('requiresSupport')" class="form-check-input" type="radio" [value]="true" formControlName="requiresSupport">
        <label class="form-check-label">Yes</label>
      </div>
      <div class="form-check">
        <input [class.is-invalid]="invalid('requiresSupport')" class="form-check-input" type="radio" [value]="false" formControlName="requiresSupport">
        <label class="form-check-label">No</label>
        <span *ngIf="submitted" class="invalid-feedback">
          {{validationErrors['requiresSupport']}}
        </span>
      </div>
    </div>
    <div *ngIf="ui.showAvailableServices()" class="feature-block">
      <p>Check all that apply:</p>
      <div class="support-services__list padded-section">
        <div class="support-services__item">
          <div class="row">
            <div class="form-check col-md-6">
              <input class="form-check-input" type="checkbox" formControlName="requiresFood">
              <label class="form-check-label">Food</label>
            </div>
          </div>
          <div class="row">
            <div class="form-check col-md-6">
              <input class="form-check-input" type="checkbox" formControlName="requiresClothing">
              <label class="form-check-label">Clothing</label>
            </div>
          </div>
          <div class="row">
            <div class="form-check col-md-6">
              <input class="form-check-input" type="checkbox" formControlName="requiresAccommodation">
              <label class="form-check-label">Accommodation</label>
            </div>
          </div>
          <div class="row">
            <div class="form-check col-md-6">
              <input class="form-check-input" type="checkbox" formControlName="requiresIncidentals">
              <label class="form-check-label">Incidentals</label>
            </div>
          </div>
          <div class="row">
            <div class="form-check col-md-6">
              <input class="form-check-input" type="checkbox" formControlName="requiresTransportation">
              <label class="form-check-label">Transportation</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="mt-5 space-between">
    <section>
      <button type="button" class="btn btn-secondary" (click)="back()">EDIT SELF-REGISTRATION</button>
    </section>
    <section>
      <a routerLink="/dashboard">
        <app-font-awesome-icon icon="times"></app-font-awesome-icon>
        <span class="ml-2">Cancel &amp; Close</span>
      </a>
      <button type="submit" class="btn btn-primary ml-4">NEXT</button>
    </section>
  </div>
</form>
