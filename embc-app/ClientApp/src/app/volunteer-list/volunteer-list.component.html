<!-- Local Authority -->
<div class="mb-4">
  <h1>ESS Team Management Dashboard</h1>
  <p>Use this section to add new ESS users, as well as edit existing user information and permissions.</p>

  <h3 class="blue-header">USERS LIST</h3>
  <form novalidate role="search" [formGroup]="form">
    <div class="form-row">
      <div class="col-md-9">
        <input type="text" aria-label="search" class="form-control mb-2" placeholder="Search by last name &hellip;" formControlName="searchbox" (keydown.enter)="search()">
      </div>
      <div class="col-md-3">
        <button class="btn btn-primary" (click)="search()">Search</button>
      </div>
    </div>
  </form>
  <div class="search-results mt-4">
    <div *ngIf="results && results.length > 0; then searchResultsTable; else notFound"></div>
  </div>

  <ng-template #searchResultsTable>
    <div class="space-between align-items-center my-3">
      <section>
        {{(maxSize * page)-maxSize}} - {{maxSize * page}} of {{collectionSize}} users
        <!-- TODO: make this work with the component-->
        <!-- <app-pagination-summary [value]="pagination">
            <span class="font-weight-bold">ACTIVE</span> users
            TODO: <small class="ml-3">(<a href="">show deactivated</a>)</small>
          </app-pagination-summary> -->
      </section>
      <section>
        <button class="btn btn-primary" routerLink="../../volunteer">ADD USERS</button>
      </section>
    </div>
    <table class="table">
      <thead class="thead-light">
        <th scope="col">LAST NAME</th>
        <th scope="col">FIRST NAME</th>
        <th scope="col">BCEID</th>
        <!-- <th scope="col">RESTRICTED FILES</th> -->
        <th scope="col">ACTION</th>
      </thead>
      <tbody>
        <tr *ngFor="let volunteer of results">
          <td>{{volunteer.lastName}}</td>
          <td>{{volunteer.firstName}}</td>
          <td>{{volunteer.bceidAccountNumber}}</td>
          <!-- <td>
              <span *ngIf="volunteer.canAccessRestrictedFiles">Yes</span>
              <span *ngIf="!volunteer.canAccessRestrictedFiles">No</span>
            </td> -->
          <td>
            <a [routerLink]="['../../volunteer/', volunteer.id]">Edit</a>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Pagination area -->
    <span *ngIf="totalPages>1">
      <ngb-pagination class="float-right" [collectionSize]="collectionSize" [(page)]="page" [boundaryLinks]="boundaryLinks" (pageChange)="onPageChange($event)"></ngb-pagination>
    </span>

    <!-- <div>
        <button class="btn btn-primary float-right" routerLink="../../volunteer">ADD USERS</button>
      </div> -->

  </ng-template>

  <ng-template #notFound>
    <p>
      {{notFoundMessage}}
    </p>
  </ng-template>
</div>
<!-- 
<ul>
  <li>page:{{page|json}}</li>
  <li>totalPages:{{totalPages|json}}</li>
  <li>collectionSize:{{collectionSize|json}}</li>
  <li>maxSize:{{maxSize|json}}</li>
  <li>previousQuery:{{previousQuery|json}}</li>
  <li>sort:{{sort|json}}</li>
</ul> -->